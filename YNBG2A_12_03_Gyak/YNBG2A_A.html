<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jQuery - AJAX feladat a.)</title>
    <link rel="stylesheet" href="YNBG2A_style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <h1>jQuery - AJAX feladat a.)</h1>
    <p>Kattintson az Adatok betöltése gombra!</p>

    <button id="betöltGomb">Adatok betöltése</button>

    <div id="TERÜLET"></div>

    <script>
      $(document).ready(function () {
        $('#betöltGomb').click(function () {
          $.ajax({
            url: 'YNBG2A_orarend1.json',
            type: 'GET',
            dataType: 'json',
            success: function (data) {
              let html = '<div class="adatok-container">';

              html += '<h2>MISKOLCI EGYETEM</h2>';

              html +=
                '<p><strong>Cím:</strong> ' +
                data.cim.iranyitoszam +
                ' ' +
                data.cim.varos +
                ' ' +
                data.cim.utca +
                '</p>';

              html += '<p><strong>Telefonszám:</strong><br>';
              data.telefonszam.forEach(function (tel) {
                html += tel.tipus + ': ' + tel.szam + '<br>';
              });
              html += '</p>';

              html += '<p><strong>MI, PTI Órarend 2024 tavasz</strong></p>';

              html +=
                '<p><strong>Tárgy:</strong> ' + data.kurzus[0].targy + '</p>';
              html += '<p><strong>Időpont:</strong><br>';
              html += 'Nap: ' + data.kurzus[0].idopont.nap + '<br>';
              html += 'Tól: ' + data.kurzus[0].idopont.tol + '<br>';
              html += 'Ig: ' + data.kurzus[0].idopont.ig + '<br></p>';
              html +=
                '<p><strong>Helyszín:</strong> ' +
                data.kurzus[0].helyszin +
                '</p>';
              html +=
                '<p><strong>Oktató:</strong> ' + data.kurzus[0].oktato + '</p>';
              html +=
                '<p><strong>Szak:</strong> ' + data.kurzus[0].szak + '</p>';
              html +=
                '<p><strong>Típus:</strong> ' + data.kurzus[0].tipus + '</p>';

              html += '</div>';
              $('#TERÜLET').html(html);
            },
            error: function () {
              $('#TERÜLET').html('<p>Hiba az adatok betöltésekor!</p>');
            },
          });
        });
      });
    </script>
  </body>
</html>
